<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    <title>Guide PHP 8</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#3498db">
</head>
<body>
    <div id="progress-bar"></div>

    <button id="theme-toggle" onclick="toggleTheme()">
        <span id="theme-toggle-icon">üåô</span>
    </button>
    <aside>
        <h1>Le Guide Complet de PHP 8</h1>
        <p class="subtitle">Toutes les fonctions PHP 8 expliqu√©es simplement !</p>
        <p>
            <a href="html-guide.html">Guide HTML</a>
            <a href="css-guide.html">Guide CSS</a>
            <a href="js-guide.html">Guide JavaScript</a>
            <a href="bootstrap-guide.html">Guide Bootstrap</a>
            <a href="git-guide.html">Guide Git</a>
            <a href="mysql-guide.html">Guide MySQL</a>
            <a href="favoris.html" class="fav-link">‚≠ê Favoris <span id="fav-count"></span></a>
        </p>
    </aside>

    <nav>
        <div class="nav-logo">
            <svg viewBox="0 0 100 52" xmlns="http://www.w3.org/2000/svg">
                <path fill="#777BB3" d="M0 0h100v52H0z"/>
                <path fill="#FFF" d="M10 10h8c4 0 6 2 6 5s-2 5-6 5h-4v6h-4V10zm4 7h3c2 0 3-1 3-2s-1-2-3-2h-3v4zm13-7h4v6h6v-6h4v16h-4v-6h-6v6h-4V10zm18 0h8c4 0 6 2 6 5s-2 5-6 5h-4v6h-4V10zm4 7h3c2 0 3-1 3-2s-1-2-3-2h-3v4z"/>
            </svg>
        </div>
        <ul>
            <li><a href="#bases">Bases</a></li>
            <li><a href="#chaines">Cha√Ænes</a></li>
            <li><a href="#tableaux">Tableaux</a></li>
            <li><a href="#fichiers">Fichiers</a></li>
            <li><a href="#dates">Dates</a></li>
            <li><a href="#math">Math√©matiques</a></li>
            <li><a href="#filtres">Filtres</a></li>
            <li><a href="#pdo">PDO/MySQL</a></li>
            <li><a href="#json">JSON</a></li>
            <li><a href="#php8">PHP 8</a></li>
        </ul>
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="Rechercher..." />
        </div>
    </nav>

    <main>
        <section id="bases">
            <h2>üöÄ Fonctions de Base</h2>

            <div class="tag-card">
                <h3>echo</h3>
                <p><strong>C'est quoi ?</strong> Affiche du texte ou des variables √† l'√©cran. C'est la fonction la plus utilis√©e en PHP pour sortir du contenu.</p>
                <p><strong>Pourquoi ?</strong> Pour afficher n'importe quoi : du HTML, du texte, des variables... C'est ta meilleure amie pour d√©bugger et g√©n√©rer des pages dynamiques !</p>
                <p><strong>Astuce :</strong> Tu peux afficher plusieurs √©l√©ments s√©par√©s par des virgules. Plus rapide que print().</p>
                <code>echo "Hello World!";
echo "Bonjour ", $nom, " !";
echo "&lt;h1&gt;Titre&lt;/h1&gt;";</code>
            </div>

            <div class="tag-card">
                <h3>var_dump()</h3>
                <p><strong>C'est quoi ?</strong> Affiche des informations d√©taill√©es sur une variable : son type, sa valeur, sa taille...</p>
                <p><strong>Pourquoi ?</strong> Super utile pour d√©bugger ! Tu vois exactement ce qu'il y a dans ta variable, m√™me les tableaux complexes ou les objets.</p>
                <p><strong>Conseil :</strong> Utilise-la pendant le d√©veloppement, mais retire-la en production. Pour du code propre, pr√©f√®re print_r() ou error_log().</p>
                <code>$data = ["nom" => "Marie", "age" => 25];
var_dump($data);
// Affiche: array(2) { ["nom"]=> string(5) "Marie" ["age"]=> int(25) }</code>
            </div>

            <div class="tag-card">
                <h3>isset()</h3>
                <p><strong>C'est quoi ?</strong> V√©rifie si une variable existe et n'est pas null. Retourne true ou false.</p>
                <p><strong>Pourquoi ?</strong> Pour √©viter les erreurs ! Avant d'utiliser une variable, v√©rifie qu'elle existe. Indispensable avec les formulaires ($_POST, $_GET).</p>
                <p><strong>Important :</strong> isset() retourne false si la variable vaut null, m√™me si elle existe !</p>
                <code>if (isset($_POST['email'])) {
    $email = $_POST['email'];
} else {
    echo "Email non fourni";
}</code>
            </div>

            <div class="tag-card">
                <h3>empty()</h3>
                <p><strong>C'est quoi ?</strong> V√©rifie si une variable est vide : "", 0, null, false, tableau vide... tout √ßa est consid√©r√© "vide".</p>
                <p><strong>Pourquoi ?</strong> Pour valider les donn√©es d'un formulaire. Si un champ est vide, tu peux afficher une erreur.</p>
                <p><strong>Astuce :</strong> "0" (string) est vide mais 0.0 ne l'est pas ! Attention aux surprises.</p>
                <code>if (empty($username)) {
    echo "Le nom d'utilisateur est requis";
}
// Vide : "", 0, "0", null, false, []</code>
            </div>

            <div class="tag-card">
                <h3>die() / exit()</h3>
                <p><strong>C'est quoi ?</strong> Arr√™te imm√©diatement l'ex√©cution du script PHP. die() et exit() sont identiques.</p>
                <p><strong>Pourquoi ?</strong> Pour stopper le script en cas d'erreur critique (connexion DB √©chou√©e, fichier manquant...) et afficher un message.</p>
                <p><strong>Conseil :</strong> Utilise-le avec parcimonie ! Pr√©f√®re les exceptions pour une meilleure gestion des erreurs.</p>
                <code>$db = mysqli_connect("localhost", "user", "pass");
if (!$db) {
    die("Erreur de connexion : " . mysqli_connect_error());
}</code>
            </div>

            <div class="tag-card">
                <h3>gettype()</h3>
                <p><strong>C'est quoi ?</strong> Retourne le type d'une variable sous forme de string : "integer", "string", "array", "object"...</p>
                <p><strong>Pourquoi ?</strong> Pour v√©rifier le type d'une variable, surtout quand tu re√ßois des donn√©es externes.</p>
                <p><strong>Alternative :</strong> is_int(), is_string(), is_array()... sont plus rapides et mieux pour les conditions.</p>
                <code>$age = 25;
echo gettype($age);  // "integer"
$nom = "Paul";
echo gettype($nom);  // "string"</code>
            </div>

            <div class="tag-card">
                <h3>unset()</h3>
                <p><strong>C'est quoi ?</strong> D√©truit une variable. Elle n'existe plus apr√®s √ßa.</p>
                <p><strong>Pourquoi ?</strong> Pour lib√©rer de la m√©moire (gros tableaux) ou supprimer des donn√©es sensibles (mots de passe apr√®s usage).</p>
                <p><strong>Note :</strong> Dans une fonction, unset() ne d√©truit que la copie locale, pas la variable globale !</p>
                <code>$password = "secret123";
// ... utilisation ...
unset($password);  // Plus de trace du mot de passe
unset($bigArray);  // Lib√®re la m√©moire</code>
            </div>
        </section>

        <section id="chaines">
            <h2>üìù Fonctions de Cha√Ænes</h2>

            <div class="tag-card">
                <h3>strlen()</h3>
                <p><strong>C'est quoi ?</strong> Retourne la longueur d'une cha√Æne (nombre de caract√®res).</p>
                <p><strong>Pourquoi ?</strong> Pour valider un mot de passe (min 8 caract√®res), limiter un texte, v√©rifier qu'un champ n'est pas vide...</p>
                <p><strong>Attention :</strong> Compte les octets, pas les caract√®res UTF-8 ! Pour les accents, utilise mb_strlen().</p>
                <code>$password = "azerty123";
if (strlen($password) < 8) {
    echo "Mot de passe trop court";
}</code>
            </div>

            <div class="tag-card">
                <h3>str_replace()</h3>
                <p><strong>C'est quoi ?</strong> Remplace toutes les occurrences d'un texte par un autre dans une cha√Æne.</p>
                <p><strong>Pourquoi ?</strong> Pour nettoyer du texte, censurer des mots, corriger des erreurs courantes, remplacer des espaces par des underscores...</p>
                <p><strong>Bonus :</strong> Peut remplacer plusieurs mots √† la fois avec des tableaux !</p>
                <code>$text = "Bonjour monde!";
echo str_replace("monde", "PHP", $text);  // "Bonjour PHP!"

$bad = ["idiot", "stupide"];
$clean = str_replace($bad, "***", $comment);</code>
            </div>

            <div class="tag-card">
                <h3>trim()</h3>
                <p><strong>C'est quoi ?</strong> Supprime les espaces (et tabulations, retours √† la ligne) au d√©but et √† la fin d'une cha√Æne.</p>
                <p><strong>Pourquoi ?</strong> Les utilisateurs mettent souvent des espaces par erreur dans les formulaires. Nettoie avant de sauvegarder !</p>
                <p><strong>Variantes :</strong> ltrim() (gauche seulement), rtrim() (droite seulement).</p>
                <code>$email = "  user@example.com  ";
$clean = trim($email);  // "user@example.com"

$name = trim($_POST['name']);  // Nettoyage formulaire</code>
            </div>

            <div class="tag-card">
                <h3>strtolower() / strtoupper()</h3>
                <p><strong>C'est quoi ?</strong> Convertit une cha√Æne enti√®rement en minuscules (lower) ou majuscules (upper).</p>
                <p><strong>Pourquoi ?</strong> Pour comparer des emails sans tenir compte de la casse, normaliser des donn√©es, cr√©er des slugs d'URL...</p>
                <p><strong>UTF-8 :</strong> Pour les accents, utilise mb_strtolower() et mb_strtoupper() !</p>
                <code>$email1 = strtolower("USER@EXAMPLE.COM");  // "user@example.com"
$title = strtoupper("titre");  // "TITRE"

if (strtolower($input) === "oui") { /* ... */ }</code>
            </div>

            <div class="tag-card">
                <h3>substr()</h3>
                <p><strong>C'est quoi ?</strong> Extrait une portion d'une cha√Æne. Tu choisis o√π commencer et combien de caract√®res prendre.</p>
                <p><strong>Pourquoi ?</strong> Pour cr√©er des aper√ßus ("Lire la suite..."), extraire une ann√©e d'une date, tronquer des textes longs...</p>
                <p><strong>Astuce :</strong> Position n√©gative = compte depuis la fin ! substr($str, -3) prend les 3 derniers caract√®res.</p>
                <code>$text = "Bonjour le monde";
echo substr($text, 0, 7);  // "Bonjour"
echo substr($text, 8);     // "le monde"
echo substr($text, -5);    // "monde"</code>
            </div>

            <div class="tag-card">
                <h3>explode()</h3>
                <p><strong>C'est quoi ?</strong> Transforme une cha√Æne en tableau en la coupant √† chaque s√©parateur.</p>
                <p><strong>Pourquoi ?</strong> Pour splitter une liste CSV, d√©couper une phrase en mots, s√©parer pr√©nom/nom...</p>
                <p><strong>Oppos√© :</strong> implode() fait l'inverse (tableau ‚Üí cha√Æne) !</p>
                <code>$tags = "php,javascript,css";
$array = explode(",", $tags);  // ["php", "javascript", "css"]

$words = explode(" ", "Hello world");  // ["Hello", "world"]</code>
            </div>

            <div class="tag-card">
                <h3>implode()</h3>
                <p><strong>C'est quoi ?</strong> Transforme un tableau en cha√Æne en joignant les √©l√©ments avec un s√©parateur.</p>
                <p><strong>Pourquoi ?</strong> Pour cr√©er des listes (ex: "pomme, poire, banane"), g√©n√©rer du SQL (WHERE id IN (1,2,3)), afficher des tags...</p>
                <p><strong>Alias :</strong> join() fait exactement la m√™me chose !</p>
                <code>$fruits = ["pomme", "poire", "banane"];
echo implode(", ", $fruits);  // "pomme, poire, banane"

$ids = [1, 2, 3];
echo "WHERE id IN (" . implode(",", $ids) . ")";</code>
            </div>

            <div class="tag-card">
                <h3>str_contains()</h3>
                <p><strong>C'est quoi ?</strong> V√©rifie si une cha√Æne contient un texte. Retourne true ou false. NOUVEAU en PHP 8 !</p>
                <p><strong>Pourquoi ?</strong> Avant PHP 8, on devait utiliser strpos() !== false, c'√©tait moche. Maintenant c'est simple et lisible !</p>
                <p><strong>Bonus :</strong> str_starts_with() et str_ends_with() pour d√©but et fin !</p>
                <code>if (str_contains($email, "@")) {
    echo "Email valide";
}

if (str_starts_with($url, "https://")) { /* ... */ }</code>
            </div>

            <div class="tag-card">
                <h3>htmlspecialchars()</h3>
                <p><strong>C'est quoi ?</strong> Convertit les caract√®res sp√©ciaux en entit√©s HTML pour √©viter les failles XSS.</p>
                <p><strong>Pourquoi ?</strong> S√âCURIT√â ! Emp√™che les utilisateurs d'injecter du code malveillant. √Ä TOUJOURS utiliser avant d'afficher du contenu utilisateur !</p>
                <p><strong>Essentiel :</strong> & devient &amp;, < devient &lt;, > devient &gt;, " devient &quot;</p>
                <code>$user_input = "&lt;script&gt;alert('XSS')&lt;/script&gt;";
echo htmlspecialchars($user_input);
// Affiche le texte sans ex√©cuter le script

echo htmlspecialchars($comment, ENT_QUOTES, 'UTF-8');</code>
            </div>

            <div class="tag-card">
                <h3>sprintf()</h3>
                <p><strong>C'est quoi ?</strong> Formate une cha√Æne avec des placeholders : %s pour string, %d pour nombre, %f pour float...</p>
                <p><strong>Pourquoi ?</strong> Pour cr√©er des messages propres et r√©utilisables, formater des nombres (prix, dates), g√©n√©rer du SQL pr√©par√©...</p>
                <p><strong>Astuce :</strong> %.2f formate un float avec 2 d√©cimales !</p>
                <code>$name = "Marie";
$age = 25;
echo sprintf("Bonjour %s, tu as %d ans", $name, $age);

$price = 19.99;
echo sprintf("Prix: %.2f ‚Ç¨", $price);  // "Prix: 19.99 ‚Ç¨"</code>
            </div>
        </section>

        <section id="tableaux">
            <h2>üóÇÔ∏è Fonctions de Tableaux</h2>

            <div class="tag-card">
                <h3>count()</h3>
                <p><strong>C'est quoi ?</strong> Retourne le nombre d'√©l√©ments dans un tableau.</p>
                <p><strong>Pourquoi ?</strong> Pour v√©rifier qu'un tableau n'est pas vide, compter des r√©sultats, faire des boucles...</p>
                <p><strong>Astuce :</strong> count($array, COUNT_RECURSIVE) compte aussi les sous-tableaux !</p>
                <code>$users = ["Alice", "Bob", "Charlie"];
echo count($users);  // 3

if (count($results) === 0) {
    echo "Aucun r√©sultat";
}</code>
            </div>

            <div class="tag-card">
                <h3>array_push()</h3>
                <p><strong>C'est quoi ?</strong> Ajoute un ou plusieurs √©l√©ments √† la fin d'un tableau.</p>
                <p><strong>Pourquoi ?</strong> Pour construire des listes dynamiquement, accumuler des r√©sultats dans une boucle...</p>
                <p><strong>Raccourci :</strong> $array[] = $value fait la m√™me chose et est plus rapide !</p>
                <code>$fruits = ["pomme", "poire"];
array_push($fruits, "banane", "orange");
// $fruits = ["pomme", "poire", "banane", "orange"]

$list[] = $new_item;  // Plus simple !</code>
            </div>

            <div class="tag-card">
                <h3>array_merge()</h3>
                <p><strong>C'est quoi ?</strong> Fusionne deux ou plusieurs tableaux en un seul.</p>
                <p><strong>Pourquoi ?</strong> Pour combiner des r√©sultats, fusionner des configurations, joindre des listes...</p>
                <p><strong>Attention :</strong> Les cl√©s num√©riques sont r√©index√©es ! Pour garder les cl√©s, utilise l'op√©rateur + !</p>
                <code>$arr1 = ["a", "b"];
$arr2 = ["c", "d"];
$result = array_merge($arr1, $arr2);  // ["a", "b", "c", "d"]

$config = array_merge($defaults, $user_config);</code>
            </div>

            <div class="tag-card">
                <h3>array_filter()</h3>
                <p><strong>C'est quoi ?</strong> Filtre un tableau en gardant uniquement les √©l√©ments qui passent un test (callback).</p>
                <p><strong>Pourquoi ?</strong> Pour supprimer les valeurs vides, filtrer des nombres pairs, garder les utilisateurs actifs...</p>
                <p><strong>Pratique :</strong> Sans callback, supprime automatiquement les valeurs falsy (null, 0, false, "").</p>
                <code>$numbers = [1, 2, 3, 4, 5];
$even = array_filter($numbers, fn($n) => $n % 2 === 0);  // [2, 4]

$clean = array_filter($data);  // Supprime les valeurs vides</code>
            </div>

            <div class="tag-card">
                <h3>array_map()</h3>
                <p><strong>C'est quoi ?</strong> Applique une fonction √† chaque √©l√©ment d'un tableau et retourne le nouveau tableau.</p>
                <p><strong>Pourquoi ?</strong> Pour transformer des donn√©es : multiplier tous les prix, mettre en majuscules, extraire des IDs d'objets...</p>
                <p><strong>Moderne :</strong> Utilise les arrow functions (fn) de PHP 7.4+ pour un code concis !</p>
                <code>$prices = [10, 20, 30];
$with_tax = array_map(fn($p) => $p * 1.2, $prices);  // [12, 24, 36]

$names = array_map('strtoupper', $names);  // Tout en majuscules</code>
            </div>

            <div class="tag-card">
                <h3>array_reduce()</h3>
                <p><strong>C'est quoi ?</strong> R√©duit un tableau √† une seule valeur en appliquant une fonction d'accumulation.</p>
                <p><strong>Pourquoi ?</strong> Pour calculer une somme, un produit, concat√©ner des strings, trouver un max...</p>
                <p><strong>Puissant :</strong> Plus flexible que array_sum(), tu contr√¥les tout le processus !</p>
                <code>$numbers = [1, 2, 3, 4, 5];
$sum = array_reduce($numbers, fn($carry, $n) => $carry + $n, 0);  // 15

$total = array_reduce($prices, fn($sum, $p) => $sum + $p, 0);</code>
            </div>

            <div class="tag-card">
                <h3>in_array()</h3>
                <p><strong>C'est quoi ?</strong> V√©rifie si une valeur existe dans un tableau. Retourne true ou false.</p>
                <p><strong>Pourquoi ?</strong> Pour v√©rifier des permissions, valider un choix dans une liste, chercher un √©l√©ment...</p>
                <p><strong>Important :</strong> 3√®me param√®tre true = comparaison stricte (=== recommand√©) !</p>
                <code>$roles = ["admin", "editor", "user"];
if (in_array("admin", $roles)) {
    echo "Acc√®s autoris√©";
}

in_array("5", [5], true);  // false (strict)</code>
            </div>

            <div class="tag-card">
                <h3>array_key_exists()</h3>
                <p><strong>C'est quoi ?</strong> V√©rifie si une cl√© existe dans un tableau associatif, m√™me si sa valeur est null.</p>
                <p><strong>Pourquoi ?</strong> Diff√©rent de isset() qui retourne false si la valeur est null. Utile pour les API et configs.</p>
                <p><strong>Astuce :</strong> Depuis PHP 7, on peut aussi utiliser ?? (null coalescing operator).</p>
                <code>$user = ["name" => "Alice", "age" => null];
array_key_exists("age", $user);  // true
isset($user["age"]);             // false

$name = $user["name"] ?? "Anonyme";</code>
            </div>

            <div class="tag-card">
                <h3>array_unique()</h3>
                <p><strong>C'est quoi ?</strong> Supprime les doublons d'un tableau et garde uniquement les valeurs uniques.</p>
                <p><strong>Pourquoi ?</strong> Pour nettoyer des listes (tags, cat√©gories), √©liminer les entr√©es dupliqu√©es...</p>
                <p><strong>Note :</strong> Pr√©serve les cl√©s originales ! Utilise array_values() apr√®s pour r√©indexer.</p>
                <code>$tags = ["php", "js", "php", "css", "js"];
$unique = array_unique($tags);  // ["php", "js", "css"]

$clean = array_values(array_unique($dirty));</code>
            </div>

            <div class="tag-card">
                <h3>sort() / rsort()</h3>
                <p><strong>C'est quoi ?</strong> Trie un tableau par ordre croissant (sort) ou d√©croissant (rsort). MODIFIE le tableau original !</p>
                <p><strong>Pourquoi ?</strong> Pour afficher des listes dans l'ordre (prix, noms, dates...), classer des r√©sultats...</p>
                <p><strong>Variantes :</strong> asort() garde les cl√©s, usort() avec fonction personnalis√©e, natsort() pour tri naturel.</p>
                <code>$numbers = [3, 1, 4, 1, 5];
sort($numbers);   // [1, 1, 3, 4, 5]
rsort($numbers);  // [5, 4, 3, 1, 1]

$names = ["Zo√©", "Alice", "Bob"];
sort($names);  // ["Alice", "Bob", "Zo√©"]</code>
            </div>

            <div class="tag-card">
                <h3>array_slice()</h3>
                <p><strong>C'est quoi ?</strong> Extrait une portion d'un tableau (comme substr() mais pour les tableaux).</p>
                <p><strong>Pourquoi ?</strong> Pour paginer des r√©sultats, prendre les 10 premiers, ignorer les 5 derniers...</p>
                <p><strong>Astuce :</strong> Positions n√©gatives comptent depuis la fin ! Ne modifie PAS le tableau original.</p>
                <code>$users = ["A", "B", "C", "D", "E"];
$page1 = array_slice($users, 0, 2);  // ["A", "B"]
$page2 = array_slice($users, 2, 2);  // ["C", "D"]
$last3 = array_slice($users, -3);    // ["C", "D", "E"]</code>
            </div>

            <div class="tag-card">
                <h3>array_column()</h3>
                <p><strong>C'est quoi ?</strong> Extrait une colonne d'un tableau multidimensionnel (parfait pour les r√©sultats SQL).</p>
                <p><strong>Pourquoi ?</strong> Pour r√©cup√©rer uniquement les IDs, les emails, les noms... d'une liste d'objets/tableaux.</p>
                <p><strong>Bonus :</strong> 2√®me param√®tre pour r√©indexer par une autre colonne !</p>
                <code>$users = [
    ["id" => 1, "name" => "Alice"],
    ["id" => 2, "name" => "Bob"]
];
$names = array_column($users, "name");  // ["Alice", "Bob"]
$byId = array_column($users, "name", "id");  // [1 => "Alice", 2 => "Bob"]</code>
            </div>
        </section>

        <section id="fichiers">
            <h2>üìÅ Fonctions de Fichiers</h2>

            <div class="tag-card">
                <h3>file_get_contents()</h3>
                <p><strong>C'est quoi ?</strong> Lit tout le contenu d'un fichier (ou URL) et le retourne en string.</p>
                <p><strong>Pourquoi ?</strong> La fa√ßon la plus simple de lire un fichier entier. Parfait pour les petits fichiers, configs, APIs...</p>
                <p><strong>Attention :</strong> Charge tout en m√©moire ! Pour les gros fichiers, utilise fopen() + fgets().</p>
                <code>$content = file_get_contents("config.txt");
echo $content;

$json = file_get_contents("https://api.example.com/data");
$data = json_decode($json, true);</code>
            </div>

            <div class="tag-card">
                <h3>file_put_contents()</h3>
                <p><strong>C'est quoi ?</strong> √âcrit du contenu dans un fichier. Cr√©e le fichier s'il n'existe pas, le remplace sinon.</p>
                <p><strong>Pourquoi ?</strong> La fa√ßon la plus simple d'√©crire dans un fichier. Logs, cache, exports...</p>
                <p><strong>Flag FILE_APPEND :</strong> Ajoute √† la fin au lieu de remplacer ! Parfait pour les logs.</p>
                <code>file_put_contents("log.txt", "Erreur survenue\n");

// Ajouter sans √©craser
file_put_contents("log.txt", "Nouvelle ligne\n", FILE_APPEND);</code>
            </div>

            <div class="tag-card">
                <h3>file_exists()</h3>
                <p><strong>C'est quoi ?</strong> V√©rifie si un fichier ou dossier existe. Retourne true ou false.</p>
                <p><strong>Pourquoi ?</strong> Pour √©viter les erreurs avant de lire/√©crire, v√©rifier un upload, tester une config...</p>
                <p><strong>Combo :</strong> is_file() pour fichiers seulement, is_dir() pour dossiers seulement.</p>
                <code>if (file_exists("config.php")) {
    require "config.php";
} else {
    die("Fichier de config manquant");
}</code>
            </div>

            <div class="tag-card">
                <h3>unlink()</h3>
                <p><strong>C'est quoi ?</strong> Supprime un fichier. Attention, c'est d√©finitif !</p>
                <p><strong>Pourquoi ?</strong> Pour nettoyer des fichiers temporaires, supprimer des uploads, vider un cache...</p>
                <p><strong>S√©curit√© :</strong> V√©rifie toujours avec file_exists() avant ! Retourne false si √ßa √©choue.</p>
                <code>if (file_exists("temp.txt")) {
    unlink("temp.txt");
    echo "Fichier supprim√©";
}</code>
            </div>

            <div class="tag-card">
                <h3>scandir()</h3>
                <p><strong>C'est quoi ?</strong> Liste tous les fichiers et dossiers d'un r√©pertoire. Retourne un tableau.</p>
                <p><strong>Pourquoi ?</strong> Pour lister des uploads, afficher une galerie d'images, trouver des fichiers...</p>
                <p><strong>Note :</strong> Inclut "." et ".." ! Filtre-les avec array_diff() ou une condition.</p>
                <code>$files = scandir("uploads/");
print_r($files);  // [".", "..", "image1.jpg", "doc.pdf"]

$clean = array_diff(scandir("uploads/"), [".", ".."]);
foreach ($clean as $file) { echo $file . "\n"; }</code>
            </div>

            <div class="tag-card">
                <h3>mkdir()</h3>
                <p><strong>C'est quoi ?</strong> Cr√©e un nouveau dossier.</p>
                <p><strong>Pourquoi ?</strong> Pour organiser des uploads, cr√©er des dossiers temporaires, structurer un cache...</p>
                <p><strong>Permissions :</strong> 2√®me param = permissions (0777 par d√©faut). 3√®me param true = r√©cursif (cr√©e les parents) !</p>
                <code>mkdir("uploads/2024");

// Cr√©er toute la structure
mkdir("cache/users/images", 0755, true);</code>
            </div>

            <div class="tag-card">
                <h3>copy()</h3>
                <p><strong>C'est quoi ?</strong> Copie un fichier d'un endroit √† un autre.</p>
                <p><strong>Pourquoi ?</strong> Pour dupliquer des fichiers, faire des backups, d√©placer des uploads...</p>
                <p><strong>Note :</strong> √âcrase la destination si elle existe ! V√©rifie avec file_exists() si besoin.</p>
                <code>copy("original.jpg", "copie.jpg");

if (!file_exists("backup.txt")) {
    copy("data.txt", "backup.txt");
}</code>
            </div>

            <div class="tag-card">
                <h3>rename()</h3>
                <p><strong>C'est quoi ?</strong> Renomme un fichier ou un dossier. Peut aussi servir √† d√©placer !</p>
                <p><strong>Pourquoi ?</strong> Pour renommer des uploads, organiser des fichiers, d√©placer entre dossiers...</p>
                <p><strong>Astuce :</strong> Change le chemin complet pour d√©placer : rename("old/file.txt", "new/file.txt").</p>
                <code>rename("temp.txt", "final.txt");

// D√©placer un fichier
rename("uploads/temp.jpg", "images/photo.jpg");</code>
            </div>

            <div class="tag-card">
                <h3>pathinfo()</h3>
                <p><strong>C'est quoi ?</strong> Retourne des infos sur un chemin : dossier, nom, extension...</p>
                <p><strong>Pourquoi ?</strong> Pour extraire l'extension d'un upload, v√©rifier le type de fichier, construire de nouveaux chemins...</p>
                <p><strong>Flags :</strong> PATHINFO_DIRNAME, PATHINFO_BASENAME, PATHINFO_EXTENSION, PATHINFO_FILENAME.</p>
                <code>$info = pathinfo("uploads/photo.jpg");
// ["dirname" => "uploads", "basename" => "photo.jpg",
//  "extension" => "jpg", "filename" => "photo"]

$ext = pathinfo($_FILES['file']['name'], PATHINFO_EXTENSION);</code>
            </div>

            <div class="tag-card">
                <h3>filesize()</h3>
                <p><strong>C'est quoi ?</strong> Retourne la taille d'un fichier en octets.</p>
                <p><strong>Pourquoi ?</strong> Pour v√©rifier qu'un upload n'est pas trop gros, afficher la taille, calculer un quota...</p>
                <p><strong>Format :</strong> Divise par 1024 pour Ko, 1024¬≤ pour Mo, 1024¬≥ pour Go.</p>
                <code>$size = filesize("video.mp4");
echo $size . " octets";

$mb = round($size / 1024 / 1024, 2);
echo "Taille: " . $mb . " Mo";</code>
            </div>
        </section>

        <section id="dates">
            <h2>üìÖ Fonctions de Dates</h2>

            <div class="tag-card">
                <h3>date()</h3>
                <p><strong>C'est quoi ?</strong> Formate une date/heure. Le format est super flexible : "Y-m-d", "d/m/Y H:i:s"...</p>
                <p><strong>Pourquoi ?</strong> Pour afficher la date actuelle, formater des timestamps, cr√©er des logs avec date/heure...</p>
                <p><strong>Formats courants :</strong> Y = ann√©e (2024), m = mois (01-12), d = jour (01-31), H = heure (00-23), i = minutes, s = secondes.</p>
                <code>echo date("Y-m-d");          // "2024-01-15"
echo date("d/m/Y H:i:s");    // "15/01/2024 14:30:45"
echo date("l, F j, Y");      // "Monday, January 15, 2024"</code>
            </div>

            <div class="tag-card">
                <h3>time()</h3>
                <p><strong>C'est quoi ?</strong> Retourne le timestamp actuel (nombre de secondes depuis le 1er janvier 1970).</p>
                <p><strong>Pourquoi ?</strong> Pour mesurer des dur√©es, cr√©er des tokens temporaires, comparer des dates...</p>
                <p><strong>Combo :</strong> Ajoute/soustraie des secondes pour calculer des dates futures/pass√©es !</p>
                <code>$now = time();  // Ex: 1705327845

// Dans 7 jours
$future = time() + (7 * 24 * 60 * 60);
echo date("Y-m-d", $future);</code>
            </div>

            <div class="tag-card">
                <h3>strtotime()</h3>
                <p><strong>C'est quoi ?</strong> Convertit une date en texte en timestamp. SUPER PUISSANT ! Comprend "tomorrow", "+1 week", "next Monday"...</p>
                <p><strong>Pourquoi ?</strong> Pour calculer des dates facilement, parser des dates d'utilisateurs, faire des comparaisons...</p>
                <p><strong>Magic :</strong> strtotime("2024-01-15"), strtotime("+1 month"), strtotime("last Friday")... tout marche !</p>
                <code>$ts = strtotime("2024-12-25");
echo date("Y-m-d", $ts);  // "2024-12-25"

$tomorrow = strtotime("+1 day");
$nextWeek = strtotime("+1 week");
$lastYear = strtotime("-1 year");</code>
            </div>

            <div class="tag-card">
                <h3>DateTime (classe)</h3>
                <p><strong>C'est quoi ?</strong> Une classe orient√©e objet pour manipuler des dates. Plus moderne et puissante que date() !</p>
                <p><strong>Pourquoi ?</strong> Pour des calculs complexes, g√©rer les fuseaux horaires, faire des intervalles, modifier des dates...</p>
                <p><strong>M√©thodes :</strong> ->format(), ->modify(), ->diff(), ->add(), ->sub()... Beaucoup plus flexible !</p>
                <code>$date = new DateTime("2024-01-15");
echo $date->format("Y-m-d");  // "2024-01-15"

$date->modify("+1 month");
$date->add(new DateInterval("P7D"));  // +7 jours
$diff = $date->diff(new DateTime("2024-12-25"));</code>
            </div>

            <div class="tag-card">
                <h3>microtime()</h3>
                <p><strong>C'est quoi ?</strong> Retourne le timestamp avec les microsecondes (pr√©cision extr√™me).</p>
                <p><strong>Pourquoi ?</strong> Pour mesurer les performances, chronom√©trer l'ex√©cution de code, cr√©er des IDs uniques...</p>
                <p><strong>Astuce :</strong> microtime(true) retourne un float facile √† utiliser !</p>
                <code>$start = microtime(true);
// ... code √† mesurer ...
$end = microtime(true);
$duration = $end - $start;
echo "Dur√©e: " . ($duration * 1000) . " ms";</code>
            </div>

            <div class="tag-card">
                <h3>date_default_timezone_set()</h3>
                <p><strong>C'est quoi ?</strong> D√©finit le fuseau horaire par d√©faut pour toutes les fonctions de dates.</p>
                <p><strong>Pourquoi ?</strong> Pour avoir les bonnes heures dans tes logs, afficher l'heure locale, √©viter les warnings...</p>
                <p><strong>Important :</strong> √Ä mettre au d√©but de ton script ou dans php.ini ! √âvite les d√©calages horaires.</p>
                <code>date_default_timezone_set("Europe/Paris");
echo date("H:i");  // Heure fran√ßaise

date_default_timezone_set("America/New_York");
echo date("H:i");  // Heure New York</code>
            </div>
        </section>

        <section id="math">
            <h2>üî¢ Fonctions Math√©matiques</h2>

            <div class="tag-card">
                <h3>rand() / mt_rand()</h3>
                <p><strong>C'est quoi ?</strong> G√©n√®re un nombre al√©atoire. mt_rand() est plus rapide et meilleur.</p>
                <p><strong>Pourquoi ?</strong> Pour cr√©er des codes al√©atoires, des couleurs random, des jeux, des tests...</p>
                <p><strong>PHP 7+ :</strong> random_int() pour de la vraie s√©curit√© (cryptographie, tokens, mots de passe) !</p>
                <code>$dice = rand(1, 6);  // D√© √† 6 faces

$code = mt_rand(1000, 9999);  // Code √† 4 chiffres
$secure = random_int(100000, 999999);  // Token s√©curis√©</code>
            </div>

            <div class="tag-card">
                <h3>round() / ceil() / floor()</h3>
                <p><strong>C'est quoi ?</strong> Arrondit un nombre. round() = normal, ceil() = toujours vers le haut, floor() = toujours vers le bas.</p>
                <p><strong>Pourquoi ?</strong> Pour afficher des prix, calculer des pages de pagination, arrondir des pourcentages...</p>
                <p><strong>Astuce :</strong> round($n, 2) arrondit √† 2 d√©cimales !</p>
                <code>echo round(4.6);   // 5
echo ceil(4.1);    // 5 (plafond)
echo floor(4.9);   // 4 (plancher)

$price = round(19.99876, 2);  // 19.99</code>
            </div>

            <div class="tag-card">
                <h3>abs()</h3>
                <p><strong>C'est quoi ?</strong> Retourne la valeur absolue d'un nombre (toujours positif).</p>
                <p><strong>Pourquoi ?</strong> Pour calculer des distances, des diff√©rences, des √©carts... sans se soucier du signe.</p>
                <p><strong>Exemple :</strong> La distance entre deux points est toujours positive !</p>
                <code>echo abs(-10);   // 10
echo abs(10);    // 10

$diff = abs($price1 - $price2);  // √âcart de prix</code>
            </div>

            <div class="tag-card">
                <h3>max() / min()</h3>
                <p><strong>C'est quoi ?</strong> Retourne la valeur maximum ou minimum parmi plusieurs valeurs ou un tableau.</p>
                <p><strong>Pourquoi ?</strong> Pour trouver le prix le plus haut/bas, l'√¢ge max/min, limiter des valeurs...</p>
                <p><strong>Pratique :</strong> Accepte plusieurs arguments OU un tableau !</p>
                <code>echo max(5, 10, 3, 8);  // 10
echo min(5, 10, 3, 8);  // 3

$prices = [19, 25, 15, 30];
echo max($prices);  // 30</code>
            </div>

            <div class="tag-card">
                <h3>pow() / sqrt()</h3>
                <p><strong>C'est quoi ?</strong> pow() = puissance (2¬≥ = 8), sqrt() = racine carr√©e (‚àö16 = 4).</p>
                <p><strong>Pourquoi ?</strong> Pour des calculs g√©om√©triques, scientifiques, cryptographiques...</p>
                <p><strong>Raccourci :</strong> $a ** $b est plus lisible que pow($a, $b) depuis PHP 5.6 !</p>
                <code>echo pow(2, 3);   // 8 (2¬≥)
echo 2 ** 3;      // 8 (syntaxe moderne)
echo sqrt(16);    // 4 (‚àö16)

$hypotenuse = sqrt(pow($a, 2) + pow($b, 2));</code>
            </div>

            <div class="tag-card">
                <h3>number_format()</h3>
                <p><strong>C'est quoi ?</strong> Formate un nombre avec s√©parateurs de milliers et d√©cimales.</p>
                <p><strong>Pourquoi ?</strong> Pour afficher des prix joliment, formater des stats, rendre les nombres lisibles...</p>
                <p><strong>Param√®tres :</strong> (nombre, d√©cimales, s√©parateur d√©cimal, s√©parateur milliers).</p>
                <code>echo number_format(1234567.89, 2, ",", " ");  // "1 234 567,89"

$price = number_format($amount, 2, ".", "");  // 19.99
echo number_format(1000000);  // "1,000,000"</code>
            </div>
        </section>

        <section id="filtres">
            <h2>üõ°Ô∏è Fonctions de Filtres & Validation</h2>

            <div class="tag-card">
                <h3>filter_var()</h3>
                <p><strong>C'est quoi ?</strong> Valide et nettoie des donn√©es avec des filtres pr√©d√©finis (email, URL, IP, int...).</p>
                <p><strong>Pourquoi ?</strong> S√âCURIT√â ! Valide les formulaires proprement. Plus fiable que des regex maison !</p>
                <p><strong>Filtres courants :</strong> FILTER_VALIDATE_EMAIL, FILTER_VALIDATE_URL, FILTER_VALIDATE_INT, FILTER_SANITIZE_STRING...</p>
                <code>if (filter_var($email, FILTER_VALIDATE_EMAIL)) {
    echo "Email valide";
}

$url = filter_var($input, FILTER_VALIDATE_URL);
$clean = filter_var($text, FILTER_SANITIZE_STRING);</code>
            </div>

            <div class="tag-card">
                <h3>filter_input()</h3>
                <p><strong>C'est quoi ?</strong> R√©cup√®re ET filtre directement depuis $_GET, $_POST, $_COOKIE... en une seule √©tape !</p>
                <p><strong>Pourquoi ?</strong> Plus s√©curis√© et concis que r√©cup√©rer puis filtrer s√©par√©ment. Best practice pour les formulaires !</p>
                <p><strong>Types :</strong> INPUT_GET, INPUT_POST, INPUT_COOKIE, INPUT_SERVER.</p>
                <code>$email = filter_input(INPUT_POST, 'email', FILTER_VALIDATE_EMAIL);
if ($email === false) {
    echo "Email invalide";
}

$age = filter_input(INPUT_GET, 'age', FILTER_VALIDATE_INT);</code>
            </div>

            <div class="tag-card">
                <h3>password_hash()</h3>
                <p><strong>C'est quoi ?</strong> Hash un mot de passe de mani√®re s√©curis√©e avec bcrypt. JAMAIS stocker en clair !</p>
                <p><strong>Pourquoi ?</strong> S√âCURIT√â CRITIQUE ! Prot√®ge les mots de passe m√™me si la DB est hack√©e. Utilise un salt automatique.</p>
                <p><strong>Algo :</strong> PASSWORD_DEFAULT utilise bcrypt (ou mieux dans le futur). Ne JAMAIS utiliser md5() ou sha1() !</p>
                <code>$password = "secret123";
$hash = password_hash($password, PASSWORD_DEFAULT);
// $hash = "$2y$10$..." (60 caract√®res, stocke √ßa en DB)

// Lors de l'inscription
$hashed = password_hash($_POST['password'], PASSWORD_DEFAULT);</code>
            </div>

            <div class="tag-card">
                <h3>password_verify()</h3>
                <p><strong>C'est quoi ?</strong> V√©rifie si un mot de passe correspond au hash. Utilise avec password_hash() !</p>
                <p><strong>Pourquoi ?</strong> Pour la connexion ! Compare le mot de passe saisi avec le hash en base de donn√©es.</p>
                <p><strong>Important :</strong> Retourne true ou false. NE JAMAIS comparer les hashs directement (===) !</p>
                <code>$hash = "$2y$10$...";  // Hash depuis la DB
if (password_verify($_POST['password'], $hash)) {
    echo "Connexion r√©ussie";
} else {
    echo "Mot de passe incorrect";
}</code>
            </div>

            <div class="tag-card">
                <h3>strip_tags()</h3>
                <p><strong>C'est quoi ?</strong> Supprime les balises HTML et PHP d'une cha√Æne.</p>
                <p><strong>Pourquoi ?</strong> Pour nettoyer du contenu utilisateur, extraire le texte pur, √©viter les failles XSS...</p>
                <p><strong>Attention :</strong> Pr√©f√®re htmlspecialchars() pour afficher ! strip_tags() est pour extraire du texte.</p>
                <code>$html = "&lt;p&gt;Hello &lt;b&gt;World&lt;/b&gt;&lt;/p&gt;";
echo strip_tags($html);  // "Hello World"

// Garder certaines balises
echo strip_tags($html, "&lt;b&gt;&lt;i&gt;");  // "Hello &lt;b&gt;World&lt;/b&gt;"</code>
            </div>

            <div class="tag-card">
                <h3>preg_match()</h3>
                <p><strong>C'est quoi ?</strong> Teste si une cha√Æne correspond √† une regex (expression r√©guli√®re).</p>
                <p><strong>Pourquoi ?</strong> Pour valider des formats complexes : t√©l√©phone, code postal, mot de passe fort...</p>
                <p><strong>Astuce :</strong> Retourne 1 si match, 0 si non, false si erreur. 3√®me param capture les groupes !</p>
                <code>// Valider un code postal fran√ßais
if (preg_match("/^[0-9]{5}$/", $zip)) {
    echo "Code postal valide";
}

// Mot de passe fort (8+ chars, 1 maj, 1 chiffre)
preg_match("/^(?=.*[A-Z])(?=.*\d).{8,}$/", $password);</code>
            </div>

            <div class="tag-card">
                <h3>preg_replace()</h3>
                <p><strong>C'est quoi ?</strong> Remplace du texte qui correspond √† une regex (str_replace() sous st√©ro√Ødes).</p>
                <p><strong>Pourquoi ?</strong> Pour des remplacements complexes : nettoyer des espaces multiples, formater du texte, extraire des patterns...</p>
                <p><strong>Puissant :</strong> Utilise des groupes de capture et des r√©f√©rences arri√®re ($1, $2...) !</p>
                <code>// Supprimer tous les espaces multiples
$clean = preg_replace("/\s+/", " ", $text);

// Formatter un num√©ro de t√©l√©phone
$phone = preg_replace("/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/", "$1.$2.$3.$4.$5", "0612345678");
// "06.12.34.56.78"</code>
            </div>
        </section>

        <section id="pdo">
            <h2>üóÑÔ∏è PDO & MySQL</h2>

            <div class="tag-card">
                <h3>new PDO()</h3>
                <p><strong>C'est quoi ?</strong> Cr√©e une connexion √† une base de donn√©es MySQL (ou autres). PDO = PHP Data Objects.</p>
                <p><strong>Pourquoi ?</strong> Pour interagir avec ta base de donn√©es : SELECT, INSERT, UPDATE, DELETE... de mani√®re s√©curis√©e !</p>
                <p><strong>DSN :</strong> "mysql:host=localhost;dbname=madb;charset=utf8mb4". Toujours mettre charset=utf8mb4 !</p>
                <code>try {
    $pdo = new PDO("mysql:host=localhost;dbname=mydb;charset=utf8mb4", "user", "pass");
    $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
} catch (PDOException $e) {
    die("Erreur DB : " . $e->getMessage());
}</code>
            </div>

            <div class="tag-card">
                <h3>$pdo->prepare()</h3>
                <p><strong>C'est quoi ?</strong> Pr√©pare une requ√™te SQL avec des placeholders (? ou :nom). ESSENTIEL pour la s√©curit√© !</p>
                <p><strong>Pourquoi ?</strong> Prot√®ge contre les injections SQL ! Les valeurs sont √©chapp√©es automatiquement. TOUJOURS utiliser √ßa !</p>
                <p><strong>Placeholders :</strong> ? (position) ou :name (nomm√©). Les nomm√©s sont plus lisibles.</p>
                <code>// Placeholders positionnels
$stmt = $pdo->prepare("SELECT * FROM users WHERE email = ? AND active = ?");

// Placeholders nomm√©s (recommand√©)
$stmt = $pdo->prepare("SELECT * FROM users WHERE email = :email AND active = :active");</code>
            </div>

            <div class="tag-card">
                <h3>$stmt->execute()</h3>
                <p><strong>C'est quoi ?</strong> Ex√©cute une requ√™te pr√©par√©e en passant les valeurs des placeholders.</p>
                <p><strong>Pourquoi ?</strong> Pour lancer la requ√™te avec les vraies valeurs. Retourne true si succ√®s, false sinon.</p>
                <p><strong>S√©curit√© :</strong> Les valeurs sont automatiquement √©chapp√©es. Jamais de concat√©nation dans le SQL !</p>
                <code>// Avec placeholders positionnels
$stmt->execute([$email, 1]);

// Avec placeholders nomm√©s
$stmt->execute([':email' => $email, ':active' => 1]);</code>
            </div>

            <div class="tag-card">
                <h3>$stmt->fetch() / fetchAll()</h3>
                <p><strong>C'est quoi ?</strong> R√©cup√®re les r√©sultats d'un SELECT. fetch() = 1 ligne, fetchAll() = toutes les lignes.</p>
                <p><strong>Pourquoi ?</strong> Pour lire les donn√©es retourn√©es par ta requ√™te SELECT.</p>
                <p><strong>Modes :</strong> PDO::FETCH_ASSOC (tableau associatif), PDO::FETCH_OBJ (objet), PDO::FETCH_BOTH (d√©faut, les deux).</p>
                <code>$stmt = $pdo->prepare("SELECT * FROM users WHERE id = ?");
$stmt->execute([1]);
$user = $stmt->fetch(PDO::FETCH_ASSOC);  // ["id" => 1, "name" => "Alice"]

$users = $stmt->fetchAll(PDO::FETCH_ASSOC);  // Tous les r√©sultats</code>
            </div>

            <div class="tag-card">
                <h3>$stmt->rowCount()</h3>
                <p><strong>C'est quoi ?</strong> Retourne le nombre de lignes affect√©es par un INSERT, UPDATE ou DELETE.</p>
                <p><strong>Pourquoi ?</strong> Pour v√©rifier si ta requ√™te a modifi√© des donn√©es. Si 0 = aucune ligne affect√©e.</p>
                <p><strong>Attention :</strong> Ne fonctionne PAS fiablement avec SELECT ! Utilise count() sur fetchAll() √† la place.</p>
                <code>$stmt = $pdo->prepare("UPDATE users SET active = 1 WHERE id = ?");
$stmt->execute([5]);
if ($stmt->rowCount() > 0) {
    echo "Utilisateur activ√©";
}</code>
            </div>

            <div class="tag-card">
                <h3>$pdo->lastInsertId()</h3>
                <p><strong>C'est quoi ?</strong> Retourne l'ID auto-incr√©ment√© du dernier INSERT.</p>
                <p><strong>Pourquoi ?</strong> Apr√®s un INSERT, tu veux souvent r√©cup√©rer l'ID cr√©√© pour l'utiliser ailleurs.</p>
                <p><strong>Utile :</strong> Pour lier des tables (cr√©er user puis ses permissions), rediriger vers la page cr√©√©e...</p>
                <code>$stmt = $pdo->prepare("INSERT INTO users (name, email) VALUES (?, ?)");
$stmt->execute(["Alice", "alice@example.com"]);
$userId = $pdo->lastInsertId();
echo "Utilisateur cr√©√© avec l'ID : " . $userId;</code>
            </div>

            <div class="tag-card">
                <h3>$pdo->beginTransaction()</h3>
                <p><strong>C'est quoi ?</strong> D√©marre une transaction. Les requ√™tes suivantes ne sont pas appliqu√©es tant que tu ne fais pas commit().</p>
                <p><strong>Pourquoi ?</strong> Pour garantir l'int√©grit√© : soit TOUT passe, soit RIEN. Parfait pour les virements bancaires, commandes e-commerce...</p>
                <p><strong>M√©thodes :</strong> beginTransaction(), commit() (valider), rollBack() (annuler).</p>
                <code>try {
    $pdo->beginTransaction();
    $stmt1 = $pdo->prepare("UPDATE accounts SET balance = balance - 100 WHERE id = 1");
    $stmt1->execute();
    $stmt2 = $pdo->prepare("UPDATE accounts SET balance = balance + 100 WHERE id = 2");
    $stmt2->execute();
    $pdo->commit();
} catch (Exception $e) {
    $pdo->rollBack();  // Annule tout en cas d'erreur
}</code>
            </div>
        </section>

        <section id="json">
            <h2>üì¶ JSON</h2>

            <div class="tag-card">
                <h3>json_encode()</h3>
                <p><strong>C'est quoi ?</strong> Convertit un tableau ou objet PHP en cha√Æne JSON.</p>
                <p><strong>Pourquoi ?</strong> Pour envoyer des donn√©es √† une API, stocker en DB, communiquer avec JavaScript...</p>
                <p><strong>Options :</strong> JSON_PRETTY_PRINT (lisible), JSON_UNESCAPED_UNICODE (accents corrects), JSON_UNESCAPED_SLASHES.</p>
                <code>$data = ["name" => "Alice", "age" => 25];
$json = json_encode($data);  // '{"name":"Alice","age":25}'

// Plus lisible
$pretty = json_encode($data, JSON_PRETTY_PRINT | JSON_UNESCAPED_UNICODE);</code>
            </div>

            <div class="tag-card">
                <h3>json_decode()</h3>
                <p><strong>C'est quoi ?</strong> Convertit une cha√Æne JSON en tableau ou objet PHP.</p>
                <p><strong>Pourquoi ?</strong> Pour lire des donn√©es d'API, parser du JSON stock√©, recevoir des donn√©es de JavaScript...</p>
                <p><strong>Important :</strong> 2√®me param true = tableau associatif (recommand√©). Sinon c'est un objet stdClass.</p>
                <code>$json = '{"name":"Alice","age":25}';
$data = json_decode($json, true);  // ["name" => "Alice", "age" => 25]

$obj = json_decode($json);  // stdClass Object
echo $obj->name;  // "Alice"</code>
            </div>

            <div class="tag-card">
                <h3>json_last_error()</h3>
                <p><strong>C'est quoi ?</strong> Retourne le code d'erreur du dernier json_encode() ou json_decode(). 0 = pas d'erreur.</p>
                <p><strong>Pourquoi ?</strong> Pour v√©rifier si le JSON est valide. json_decode() retourne null en cas d'erreur (ambigu√´ si JSON = null).</p>
                <p><strong>Alternative :</strong> json_last_error_msg() pour un message d'erreur lisible !</p>
                <code>$data = json_decode($json, true);
if (json_last_error() !== JSON_ERROR_NONE) {
    echo "JSON invalide : " . json_last_error_msg();
} else {
    // Traite $data
}</code>
            </div>
        </section>

        <section id="php8">
            <h2>üÜï Nouveaut√©s PHP 8</h2>

            <div class="tag-card">
                <h3>Op√©rateur Nullsafe ?-></h3>
                <p><strong>C'est quoi ?</strong> Acc√®de √† une propri√©t√©/m√©thode seulement si l'objet n'est pas null. √âvite les erreurs !</p>
                <p><strong>Pourquoi ?</strong> Avant, il fallait des isset() ou des ? : partout. Maintenant c'est concis et lisible !</p>
                <p><strong>Retour :</strong> Si l'objet est null, retourne null au lieu de lancer une erreur.</p>
                <code>// Avant PHP 8
$country = isset($user) && isset($user->address) ? $user->address->country : null;

// PHP 8
$country = $user?->address?->country;  // null si user ou address est null</code>
            </div>

            <div class="tag-card">
                <h3>Attributs nomm√©s</h3>
                <p><strong>C'est quoi ?</strong> Appelle une fonction en nommant les param√®tres, dans n'importe quel ordre !</p>
                <p><strong>Pourquoi ?</strong> Plus lisible, √©vite les erreurs d'ordre, skip les param√®tres optionnels du milieu...</p>
                <p><strong>Exemple :</strong> array_fill(start_index: 0, count: 100, value: 50) est plus clair que array_fill(0, 100, 50).</p>
                <code>// Avant
array_fill(0, 100, 50);  // C'est quoi 0, 100, 50 ?

// PHP 8
array_fill(start_index: 0, count: 100, value: 50);  // Clair !

htmlspecialchars($text, double_encode: false);</code>
            </div>

            <div class="tag-card">
                <h3>Match expression</h3>
                <p><strong>C'est quoi ?</strong> Comme switch, mais en mieux : retourne une valeur, comparaison stricte (===), pas de break !</p>
                <p><strong>Pourquoi ?</strong> Plus concis et s√ªr que switch. G√©nial pour mapper des valeurs, router des actions...</p>
                <p><strong>Important :</strong> Lance une erreur si aucun cas ne match (contrairement √† switch) !</p>
                <code>// Avant avec switch
switch ($status) {
    case 'draft': $label = 'Brouillon'; break;
    case 'published': $label = 'Publi√©'; break;
    default: $label = 'Inconnu';
}

// PHP 8 avec match
$label = match($status) {
    'draft' => 'Brouillon',
    'published' => 'Publi√©',
    default => 'Inconnu'
};</code>
            </div>

            <div class="tag-card">
                <h3>Union Types</h3>
                <p><strong>C'est quoi ?</strong> D√©clare qu'un param√®tre/retour peut √™tre de plusieurs types : string|int, array|null...</p>
                <p><strong>Pourquoi ?</strong> Pour un typage fort mais flexible. Remplace les docblocks @param string|int par du vrai code !</p>
                <p><strong>Pratique :</strong> int|float, string|null (ou juste ?string pour nullable).</p>
                <code>function process(string|int $id): array|null {
    if (is_string($id)) {
        return ["uuid" => $id];
    }
    return null;
}

function find(int|string $id): User|null { /* ... */ }</code>
            </div>

            <div class="tag-card">
                <h3>Promotion de propri√©t√©s dans le constructeur</h3>
                <p><strong>C'est quoi ?</strong> D√©clare et initialise des propri√©t√©s directement dans le constructeur. Moins de code r√©p√©titif !</p>
                <p><strong>Pourquoi ?</strong> Avant, il fallait d√©clarer la propri√©t√©, puis l'assigner dans le constructeur. Maintenant c'est en une ligne !</p>
                <p><strong>Gain :</strong> √âconomie de 50% du code pour les classes simples !</p>
                <code>// Avant PHP 8
class User {
    private string $name;
    public function __construct(string $name) {
        $this->name = $name;
    }
}

// PHP 8
class User {
    public function __construct(private string $name) {}
}</code>
            </div>

            <div class="tag-card">
                <h3>str_starts_with() / str_ends_with()</h3>
                <p><strong>C'est quoi ?</strong> V√©rifie si une cha√Æne commence ou finit par un texte. ENFIN natives en PHP 8 !</p>
                <p><strong>Pourquoi ?</strong> Avant il fallait utiliser substr() ou strpos() === 0, c'√©tait moche. Maintenant c'est lisible !</p>
                <p><strong>Combo :</strong> Avec str_contains(), tu as tout pour tester des cha√Ænes facilement !</p>
                <code>if (str_starts_with($url, "https://")) {
    echo "URL s√©curis√©e";
}

if (str_ends_with($filename, ".pdf")) {
    echo "Fichier PDF";
}

str_contains($email, "@");  // V√©rifie pr√©sence</code>
            </div>

            <div class="tag-card">
                <h3>throw dans les expressions</h3>
                <p><strong>C'est quoi ?</strong> Permet de lancer une exception dans une expression (ternaire, null coalescing, arrow function...).</p>
                <p><strong>Pourquoi ?</strong> Plus besoin de structures if/else juste pour throw. Code plus concis et √©l√©gant !</p>
                <p><strong>Utile :</strong> Validation en une ligne, valeurs par d√©faut avec throw...</p>
                <code>// Avant PHP 8
$value = $_GET['id'] ?? null;
if ($value === null) throw new Exception("ID manquant");

// PHP 8
$value = $_GET['id'] ?? throw new Exception("ID manquant");

$user = findUser($id) ?? throw new NotFoundException();</code>
            </div>

            <div class="tag-card">
                <h3>Attributes (Annotations)</h3>
                <p><strong>C'est quoi ?</strong> Ajoute des m√©tadonn√©es aux classes, m√©thodes, propri√©t√©s... Syntaxe : #[MonAttribut].</p>
                <p><strong>Pourquoi ?</strong> Remplace les annotations docblock par du vrai code pars√©. Utilis√© par les frameworks (routes, validation...).</p>
                <p><strong>Exemple :</strong> Symfony et autres frameworks utilisent √ßa pour les routes, validators, serializers...</p>
                <code>// Routes avec attributs
#[Route('/api/users', methods: ['GET'])]
public function getUsers() { /* ... */ }

// Validation
class User {
    #[Assert\NotBlank]
    #[Assert\Email]
    public string $email;
}</code>
            </div>

            <div class="tag-card">
                <h3>Mixed type</h3>
                <p><strong>C'est quoi ?</strong> Type qui accepte n'importe quoi : int, string, array, object, null... TOUT !</p>
                <p><strong>Pourquoi ?</strong> Pour documenter explicitement qu'une fonction accepte/retourne n'importe quoi. Mieux que pas de type !</p>
                <p><strong>Note :</strong> Pr√©f√®re des types pr√©cis quand possible. mixed = "je sais pas" mais au moins c'est document√© !</p>
                <code>function process(mixed $data): mixed {
    if (is_array($data)) return count($data);
    if (is_string($data)) return strlen($data);
    return $data;
}

function getValue(): mixed { return $this->value; }</code>
            </div>

            <div class="tag-card">
                <h3>Op√©rateur Nullsafe ?? Throw</h3>
                <p><strong>C'est quoi ?</strong> Combine ?? (null coalescing) et throw. Si la valeur est null, lance une exception !</p>
                <p><strong>Pourquoi ?</strong> Validation en une ligne ! Plus besoin de if pour v√©rifier puis throw.</p>
                <p><strong>Pattern :</strong> Parfait pour valider les entr√©es requises de mani√®re concise.</p>
                <code>// Validation d'entr√©es
$email = $_POST['email'] ?? throw new InvalidArgumentException("Email requis");
$id = $_GET['id'] ?? throw new BadRequestException("ID manquant");

// Config
$apiKey = $config['api_key'] ?? throw new ConfigException("API key non configur√©e");</code>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 - Guides Dev Web</p>
        <p>Fait avec ‚ù§Ô∏è pour apprendre le d√©veloppement web</p>
        <p><a href="index.html">Retour √† l'accueil</a></p>
    </footer>

    <script src="app.js"></script>
    <script>
        // Enregistrer le Service Worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./service-worker.js')
                .then((reg) => console.log('Service Worker enregistr√©', reg))
                .catch((err) => console.log('Erreur Service Worker', err));
        }
    </script>
</body>
</html>
